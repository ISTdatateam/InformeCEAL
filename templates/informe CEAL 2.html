<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario - Medidas Propuestas</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #000;
            padding: 8px;
            text-align: left;
        }
        textarea, input, select {
            width: 100%;
        }
        .actions {
            margin-top: 20px;
            display: flex;
            gap: 10px;
        }
    </style>
</head>
<body>
    <h1>Medidas Propuestas para Home Farm Rengo</h1>
    <table id="medidasTable">
        <thead>
            <tr>
                <th>Dimensión en riesgo</th>
                <th>Preguntas clave</th>
                <th>Explicación</th>
                <th>Medida propuesta</th>
                <th>Fecha monitoreo</th>
                <th>Responsable seguimiento</th>
                <th>Acción</th>
            </tr>
        </thead>
        <tbody>
            <!-- Ejemplo inicial -->
            <tr>
                <td rowspan="2"><strong>Carga de trabajo</strong> (60.0% Riesgo Alto, 6 personas) en Administración</td>
                <td rowspan="2">
                    <p>¿Su carga de trabajo se distribuye de manera desigual de modo que se le acumula el trabajo?</p>
                    <p>¿Con qué frecuencia le falta tiempo para completar sus tareas?</p>
                </td>
                <td rowspan="2">
                    <textarea name="explicacion_carga" rows="4" placeholder="COMPLETAR"></textarea>
                </td>
                <td>
                    <textarea name="medida_carga_1" rows="3">- Involucrar a los trabajadores en el rediseño de tareas, considerando la estacionalidad y cambios climáticos.</textarea>
                </td>
                <td>
                    <select name="fecha_carga_1">
                        <option value="corto">01/03/2024 (Corto Plazo)</option>
                        <option value="mediano">01/06/2024 (Mediano Plazo)</option>
                        <option value="largo">01/09/2024 (Largo Plazo)</option>
                    </select>
                </td>
                <td><input type="text" name="responsable_carga_1" placeholder="COMPLETAR"></td>
                <td><button onclick="deleteRow(this)">Eliminar</button></td>
            </tr>
            <tr>
                <td>
                    <textarea name="medida_carga_2" rows="3">- Ajustar tareas a la capacidad física y experiencia, revisando la carga estacionalmente.</textarea>
                </td>
                <td>
                    <select name="fecha_carga_2">
                        <option value="corto">01/03/2024 (Corto Plazo)</option>
                        <option value="mediano">01/06/2024 (Mediano Plazo)</option>
                        <option value="largo">01/09/2024 (Largo Plazo)</option>
                    </select>
                </td>
                <td><input type="text" name="responsable_carga_2" placeholder="COMPLETAR"></td>
                <td><button onclick="deleteRow(this)">Eliminar</button></td>
            </tr>
        </tbody>
    </table>

    <!-- Botón para agregar nueva recomendación -->
    <div class="actions">
        <button onclick="addRow()">Agregar Recomendación</button>
        <button type="submit">Guardar</button>
    </div>

    <script>
        // Función para agregar una nueva fila
        function addRow() {
            const table = document.getElementById("medidasTable").getElementsByTagName("tbody")[0];
            const newRow = table.insertRow(); // Crear nueva fila

            // Agregar columnas con contenido dinámico
            newRow.innerHTML = `
                <td><textarea name="dimension_nueva" rows="3" placeholder="Nueva dimensión"></textarea></td>
                <td><textarea name="pregunta_clave_nueva" rows="3" placeholder="Nueva pregunta clave"></textarea></td>
                <td><textarea name="explicacion_nueva" rows="3" placeholder="Nueva explicación"></textarea></td>
                <td><textarea name="medida_nueva" rows="3" placeholder="Nueva medida propuesta"></textarea></td>
                <td>
                    <select name="fecha_nueva">
                        <option value="corto">01/03/2024 (Corto Plazo)</option>
                        <option value="mediano">01/06/2024 (Mediano Plazo)</option>
                        <option value="largo">01/09/2024 (Largo Plazo)</option>
                    </select>
                </td>
                <td><input type="text" name="responsable_nueva" placeholder="COMPLETAR"></td>
                <td><button onclick="deleteRow(this)">Eliminar</button></td>
            `;
        }

        // Función para eliminar una fila
        function deleteRow(button) {
            const row = button.parentNode.parentNode;
            row.parentNode.removeChild(row); // Eliminar fila
        }
    </script>
</body>
</html>
